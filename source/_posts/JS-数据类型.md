---
title: JS 数据类型你应该知道的可不止这些
abbrlink: 1405041715
date: 2020-02-28 18:26:44
tags:
---

### 基本数据类型

`string, number, boolean, null, undefined`

<!-- more -->

  基本数据类型的变量是保存在栈内存中的，基本数据类型的值直接在栈内存中存储，值与值之间是独立存在的，修改一个变量不会影响其他的变量
  
  当比较两个基本数据类型的值时，本质上是比较值

### 引用类型

`object`

  对象是保存在堆内存中的，每创建一个新的对象，就会在堆内存中开辟出一个新的空间，而变量保存的是对象的内存地址(对象的引用)，如果两个变量保存的是同一个对象引用，当修改其中一个变量修改属性时，另一个也会受到影响
  
  当比较两个引用数据类型时，本质上是比较的对象的内存地址，如果两个对象的属性是一模一样的，但是地址不同，也会返回false。

### 数据结构中的栈和堆

  栈 ：这是一种连续存储的数据结构，具有先进后出的性质。通常具有的操作有出栈、入栈（压栈）和取栈顶元素。想要读取栈中的某个元素，就必须将其之前所有的元素出栈才能完成。

  堆：这是一种非连续的树形存储数据结构，每个节点都有一个值，整棵树是经过排序的。特点是根节点的值最小（或最大），且根节点的两个子树也是一个堆。常用来实现优先队列，存取随意。

### 内存中的栈区和堆区

  栈内存：由程序自动向操作系统申请分配以及回收，速度快，使用方便，但程序员无法控制。若分配失败，则提示栈溢出错误。注意，const局部变量也储存在栈区内，栈区向地址减小的方向增长。

  堆内存：程序员向操作系统申请一块内存，当系统收到程序的申请时，会遍历一个记录空闲内存地址的链表，寻找第一个空间大于所申请空间的堆结点，然后将该结点从空闲结点链表中删除，并将该结点的空间分配给程序。分配的速度较慢，地址不连续，容易碎片化。此外，由程序员申请，同时也必须由程序员负责销毁，否则则导致内存泄露。

### 关于栈和堆的比喻
  使用栈就象我们去饭馆里吃饭，只管点菜（发出申请）、付钱、和吃（使用），吃饱了就走，不必理会切菜、洗菜等准备工作和洗碗、刷锅等扫尾工作，他的好处是快捷，但是自由度小。
使用堆就象是自己动手做喜欢吃的菜肴，比较麻烦，但是比较符合自己的口味，而且自由度大。